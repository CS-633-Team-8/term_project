import * as React from "react"
import { useState } from "react"
import { motion, useMotionValue, useTransform } from "framer-motion"
import styled from "styled-components"

import { MOBILE_BREAKPOINT_MAX } from "../../constants"

const tickVariants = {
  pressed: isChecked => ({ pathLength: isChecked ? 0.85 : 0.2 }),
  checked: { pathLength: 1 },
  unchecked: { pathLength: 0 }
}

export const ElephantWrapper = styled.div`
  display: flex;
  max-width: 980px;
  justify-content: center;
  margin: 0 auto;
  box-sizing: border-box;

  @media (max-width: ${MOBILE_BREAKPOINT_MAX}px) {
    margin-top: 0;
  }
`

const Elephant = () => {
  const [isChecked, setIsChecked] = useState(false)
  const pathLength = useMotionValue(0)
  const opacity = useTransform(pathLength, [0.05, 0.15], [0, 1])
  return (
    <ElephantWrapper>
      <motion.svg
        viewBox="0 0 201 179"
        initial={false}
        animate={isChecked ? "checked" : "unchecked"}
        whileHover="hover"
        whileTap="pressed"
        width="402"
        height="358"
        onClick={() => setIsChecked(!isChecked)}
      >
        <motion.path
          d="M127.059,85H100v56.283c0.03,0,0.058-0.002,0.088-0.002c0.048,0-0.088,0.082-0.088,0.082v-0.08
        c-4.29,0.021-7.501,1.604-7.501,8.305c0,0.036,0.001,0.072,0.002,0.108c0.018-6.7,3.498-8.335,7.82-8.335
        c4.333,0,7.867,1.482,7.867,8.227c0,1.619-0.206,3.412-0.572,4.412h12.984c7.689-9,12.639-23.49,12.639-39.672
        C133.239,103.32,130.944,93,127.059,85z"
          fill="#606F98"
        />
        <motion.path
          d="M100,141.283V85H73.584c-3.886,8-6.181,18.479-6.181,29.487c0,1.087,0.026,2.161,0.07,3.231
        c0.05,0.01,0.102,0.022,0.151,0.033c0,0-0.074,0.28-0.103,0.807c0.032,0.624,0.06,1.248,0.107,1.865
        c0.017,0.114,0.029,0.223,0.051,0.344C68.814,134.258,73.403,146,80.043,154h1.872h2.248h2.87h2.248H93
        c-0.261-1.091-0.426-2.251-0.477-3.463c-0.01-0.213-0.017-0.424-0.02-0.635c0-0.053-0.005-0.103-0.005-0.155
        c0-0.018,0.001-0.033,0.002-0.051c0-0.036-0.002-0.072-0.002-0.108C92.499,142.887,95.71,141.305,100,141.283z"
          fill="#606F98"
        />
        <motion.path
          d="M100,141.283V85H73.584c-3.886,8-6.181,18.479-6.181,29.487c0,1.087,0.026,2.161,0.07,3.231
        c0.05,0.01,0.102,0.022,0.151,0.033c0,0-0.074,0.28-0.103,0.807c0.032,0.624,0.06,1.248,0.107,1.865
        c0.017,0.114,0.029,0.223,0.051,0.344C68.814,134.258,73.403,146,80.043,154h1.872h2.248h2.87h2.248H93
        c-0.261-1.091-0.426-2.251-0.477-3.463c-0.01-0.213-0.017-0.424-0.02-0.635c0-0.053-0.005-0.103-0.005-0.155
        c0-0.018,0.001-0.033,0.002-0.051c0-0.036-0.002-0.072-0.002-0.108C92.499,142.887,95.71,141.305,100,141.283z"
          opacity="0.1"
        />
        <motion.polygon
          points="81.915,148.673 81.915,154.317 84.163,154.317 "
          fill="#83A2BB"
        />
        <polygon
          fill="#83A2BB"
          points="87.033,148.673 87.033,154.317 89.281,154.317 "
        />
        <polygon
          fill="#83A2BB"
          points="119.02,148.673 119.02,154.317 116.771,154.317 "
        />
        <polygon
          fill="#83A2BB"
          points="113.9,148.673 113.9,154.317 111.653,154.317 "
        />
        <g className="head">
          <g>
            <path
              fill="#6E7FAD"
              d="M70.22,98.164c-3.697-19.834-3.361-38.661-3.361-58.494l-0.336,1.009c-0.32-0.929-0.669-1.816-1.035-2.681
            c-0.207-0.489-0.421-0.968-0.644-1.435c-0.015-0.031-0.03-0.062-0.044-0.092c-0.223-0.464-0.453-0.917-0.692-1.358
            c-0.013-0.023-0.026-0.046-0.039-0.07c-1.215-2.225-2.654-4.146-4.369-5.706c-0.07-0.064-0.136-0.133-0.208-0.195
            c-0.245-0.216-0.503-0.415-0.76-0.616c-0.147-0.115-0.291-0.234-0.442-0.344c-0.233-0.17-0.476-0.328-0.718-0.485
            c-0.189-0.124-0.379-0.248-0.574-0.364c-0.23-0.137-0.469-0.264-0.708-0.39c-0.224-0.118-0.45-0.233-0.681-0.342
            c-0.232-0.108-0.468-0.212-0.708-0.311c-0.256-0.106-0.518-0.206-0.784-0.3c-0.233-0.083-0.467-0.164-0.707-0.238
            c-0.294-0.091-0.596-0.17-0.9-0.248c-0.23-0.058-0.46-0.119-0.697-0.169c-0.34-0.072-0.691-0.129-1.044-0.185
            c-0.22-0.035-0.436-0.075-0.66-0.103c-0.417-0.052-0.85-0.084-1.285-0.113c-0.178-0.012-0.349-0.033-0.53-0.041
            c-0.629-0.028-1.274-0.035-1.941-0.015c-12.775,0.336-21.852,15.801-23.868,26.894c-0.336,1.765-0.483,3.43-0.467,5.011
            c0.115,11.072,8.24,18.058,15.594,26.587c7.396,9.077,6.388,17.481,9.077,27.903c1.891,7.248,7.919,11.838,15.312,10.999
            c0.493-0.056,0.992-0.136,1.496-0.241c0.331-0.064,0.644-0.14,0.95-0.219c0.185-0.049,0.362-0.103,0.539-0.156
            c0.105-0.031,0.21-0.063,0.312-0.097c0.211-0.07,0.417-0.144,0.616-0.222c0.044-0.017,0.088-0.035,0.132-0.053
            c0.219-0.088,0.433-0.18,0.638-0.277v0.001C74.804,117.133,71.429,106.021,70.22,98.164z"
            />
            <path
              opacity="0.1"
              d="M70.22,98.164c-3.697-19.834-3.361-38.661-3.361-58.494l-0.336,1.009c-0.32-0.929-0.669-1.816-1.035-2.681
            c-0.207-0.489-0.421-0.968-0.644-1.435c-0.015-0.031-0.03-0.062-0.044-0.092c-0.223-0.464-0.453-0.917-0.692-1.358
            c-0.013-0.023-0.026-0.046-0.039-0.07c-1.215-2.225-2.654-4.146-4.369-5.706c-0.07-0.064-0.136-0.133-0.208-0.195
            c-0.245-0.216-0.503-0.415-0.76-0.616c-0.147-0.115-0.291-0.234-0.442-0.344c-0.233-0.17-0.476-0.328-0.718-0.485
            c-0.189-0.124-0.379-0.248-0.574-0.364c-0.23-0.137-0.469-0.264-0.708-0.39c-0.224-0.118-0.45-0.233-0.681-0.342
            c-0.232-0.108-0.468-0.212-0.708-0.311c-0.256-0.106-0.518-0.206-0.784-0.3c-0.233-0.083-0.467-0.164-0.707-0.238
            c-0.294-0.091-0.596-0.17-0.9-0.248c-0.23-0.058-0.46-0.119-0.697-0.169c-0.34-0.072-0.691-0.129-1.044-0.185
            c-0.22-0.035-0.436-0.075-0.66-0.103c-0.417-0.052-0.85-0.084-1.285-0.113c-0.178-0.012-0.349-0.033-0.53-0.041
            c-0.629-0.028-1.274-0.035-1.941-0.015c-12.775,0.336-21.852,15.801-23.868,26.894c-0.336,1.765-0.483,3.43-0.467,5.011
            c0.115,11.072,8.24,18.058,15.594,26.587c7.396,9.077,6.388,17.481,9.077,27.903c1.891,7.248,7.919,11.838,15.312,10.999
            c0.493-0.056,0.992-0.136,1.496-0.241c0.331-0.064,0.644-0.14,0.95-0.219c0.185-0.049,0.362-0.103,0.539-0.156
            c0.105-0.031,0.21-0.063,0.312-0.097c0.211-0.07,0.417-0.144,0.616-0.222c0.044-0.017,0.088-0.035,0.132-0.053
            c0.219-0.088,0.433-0.18,0.638-0.277v0.001C74.804,117.133,71.429,106.021,70.22,98.164z"
            />
          </g>
          <path
            fill="#6E7FAD"
            d="M133.412,40.679c3.361-9.749,9.076-16.137,20.17-15.801
        c12.774,0.336,21.851,15.801,23.868,26.894c2.688,14.12-6.724,21.852-15.127,31.601c-7.396,9.076-6.388,17.481-9.077,27.901
        c-2.018,7.732-8.741,12.438-16.809,10.758c-12.103-2.353-8.067-15.128-6.724-23.867c3.698-19.834,3.362-38.661,3.362-58.494
        L133.412,40.679z"
          />
          <path
            fill="#8092C1"
            d="M138.498,99.08c-5.08,17.951-20.312,27.738-38.177,28.483c-17.865-0.745-33.096-10.532-38.177-28.483
        c-4.763-7.144-11.206-20.297-11.206-29.429c0-24.643,23.958-43.83,49.383-44.803c25.426,0.973,49.383,20.16,49.383,44.803
        C149.704,78.783,143.261,91.937,138.498,99.08z"
          />
          <g>
            <path
              fill="#E1E2E3"
              d="M75.412,104.256c0,0,1.955,13.629-14.182,11.053c0,0,17.007,10.068,21.478-6.963
            C82.708,108.346,81.4,101.314,75.412,104.256z"
            />
            <motion.ellipse
              transform="matrix(0.7455 0.6665 -0.6665 0.7455 90.7011 -25.7841)"
              fill="#E1E2E3"
              cx="79.111"
              cy="105.867"
              rx="4.448"
              ry="2.457"
            />
          </g>
          <g>
            <path
              fill="#E1E2E3"
              d="M125.524,104.256c0,0-1.955,13.629,14.182,11.053c0,0-17.007,10.068-21.477-6.963
            C118.229,108.346,119.536,101.314,125.524,104.256z"
            />
            <ellipse
              transform="matrix(-0.7454 0.6666 -0.6666 -0.7454 283.2084 103.5738)"
              fill="#E1E2E3"
              cx="121.826"
              cy="105.867"
              rx="4.448"
              ry="2.457"
            />
          </g>
          <path
            opacity="0.1"
            d="M100.25,127.25L100,85V24.856c0-0.003,0.136-0.007,0.088-0.008c-12.5,0.477-24.519,5.364-33.635,13.129
        c-0.011,0.861-2.922,2.077-2.62,3.022h-0.5c-23.333,24.583-7,47.832-1.189,58.08c1.782,3.143,1.23,4.465,5.064,11.131
        c0,0,0.041,3.41,0.167,5.164c0,0-1.458,0.502-6.145-0.066c-0.391-0.047,3.191,1.716,6.243,2.406c1.026,0.41,4.151,1.16,6.901,0.285
        C74.375,118,84.625,127.75,100.25,127.25z"
          />
          <g className="handR">
            <motion.path
              fill="#93A3C7"
              d="M144.169,138.84c0-0.182,0.017-0.36,0.032-0.54c-0.828-0.04-1.673-0.063-2.549-0.163
            c-1.067-0.174-2.165-0.231-3.281-0.528c-0.552-0.123-1.117-0.25-1.688-0.376c-0.558-0.173-1.125-0.347-1.7-0.523
            c-1.15-0.306-2.268-0.85-3.412-1.285c-0.551-0.277-1.109-0.555-1.671-0.836c-0.565-0.261-1.111-0.572-1.642-0.919
            c-2.186-1.248-4.182-2.889-5.947-4.668c-0.42-0.46-0.888-0.912-1.264-1.362l-0.992-1.314l-0.258-0.329l-0.319-0.469l-0.639-0.938
            l-0.64-0.939l-0.042-0.058l-0.019-0.031c0.393,0.455,0.101,0.111,0.185,0.205l-0.06-0.108l-0.115-0.216l-0.233-0.433
            c-1.29-2.256-2.28-4.68-3.1-7.094c-0.84-2.403-1.394-4.89-1.838-7.292c-0.442-2.407-0.669-4.8-0.831-7.059
            c-0.131-2.274-0.165-4.433-0.116-6.439c0.046-2.005,0.164-3.848,0.297-5.48c0.076-0.816,0.149-1.581,0.216-2.287
            c0.088-0.668,0.168-1.279,0.242-1.832c0.335-2.526,0.525-3.971,0.525-3.971h-0.013c0.067-0.288,0.112-0.578,0.112-0.875
            c0-3.899-5.805-11.716-13.089-11.716S87.033,76.78,87.033,80.68c0,0,0.021,0.235,0.058,0.608c0.005,0.038,0.004,0.078,0.011,0.116
            c0.093,0.938,0.275,2.676,0.538,4.528c0.113,0.762,0.237,1.603,0.374,2.519c0.16,0.874,0.333,1.82,0.518,2.832
            c0.396,2.018,0.885,4.288,1.521,6.752c0.631,2.463,1.426,5.118,2.388,7.89c0.999,2.77,2.132,5.659,3.561,8.565
            c1.433,2.9,3.038,5.841,5,8.649c1.94,2.808,4.1,5.538,6.571,7.969l1.101,1.136l0.869,0.732l0.868,0.731l0.434,0.366l0.562,0.437
            l2.304,1.717c0.76,0.511,1.505,0.918,2.25,1.368c3.008,1.692,6.091,2.996,9.166,3.775c0.756,0.229,1.514,0.416,2.277,0.546
            c0.758,0.146,1.502,0.301,2.239,0.423c1.5,0.149,2.929,0.39,4.349,0.382c0.7,0.017,1.393,0.033,2.074,0.049
            c0.678-0.035,1.346-0.07,2.004-0.104c1.304-0.026,2.559-0.289,3.743-0.427c1.063-0.174,2.063-0.429,3.02-0.643
            C144.408,140.752,144.169,139.82,144.169,138.84z"
            />
            <path
              fill="#70879E"
              d="M93.744,86.146c0,0,7.521-6.01,14.034,0.504C107.778,86.649,101.477,82.7,93.744,86.146z"
            />
            <path
              fill="#70879E"
              d="M93.846,93.925c0,0,7.023-6.585,14.03-0.607C107.876,93.317,101.283,89.879,93.846,93.925z"
            />
            <path
              fill="#70879E"
              d="M94.838,101.987c0,0,5.751-5.978,12.046-1.144C106.884,100.844,101.058,98.175,94.838,101.987z"
            />
            <path
              fill="#70879E"
              d="M96.938,110.755c0,0,4.786-6.714,11.678-2.875C108.616,107.88,102.5,106.103,96.938,110.755z"
            />
          </g>
          <motion.g
            className="eyeL"
            initial={{ scale: 1 }}
            animate={{ scale: 0.1 }}
            transition={{
              delay: 3,
              duration: 0.1,
              ease: "easeOut",
              yoyo: 3
            }}
          >
            <circle opacity="0.2" cx="74.573" cy="75.01" r="6.589" />
            <circle fill="#221F1F" cx="74.573" cy="75.12" r="4.813" />
            <circle fill="#FFFFFF" cx="73.133" cy="75.01" r="1.111" />
          </motion.g>
          <motion.g
            className="eyeR"
            initial={{ scale: 1 }}
            animate={{ scale: 0.1 }}
            transition={{
              delay: 3,
              duration: 0.1,
              ease: "easeOut",
              yoyo: 3
            }}
          >
            <circle opacity="0.2" cx="126.361" cy="75.01" r="6.589" />
            <circle fill="#221F1F" cx="126.361" cy="75.12" r="4.813" />
            <circle fill="#FFFFFF" cx="127.802" cy="75.01" r="1.111" />
          </motion.g>
        </g>
        <motion.path
          d="M 0 128.666 L 128.658 257.373 L 341.808 0"
          transform="translate(54.917 68.947) rotate(-4 170.904 128.687)"
          fill="transparent"
          strokeWidth="65"
          stroke="#7700FF"
          strokeLinecap="round"
          strokeLinejoin="round"
          variants={tickVariants}
          style={{ pathLength, opacity }}
          custom={isChecked}
        />
      </motion.svg>
    </ElephantWrapper>
  )
}

export default Elephant
